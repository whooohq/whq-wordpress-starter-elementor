!function(e){var t={};function l(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(o,a,function(t){return e[t]}.bind(null,a));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=1)}([function(e,t,l){},function(e,t,l){"use strict";l.r(t);l(0);const o=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 22",width:"100%",height:"100%",focusable:"false","aria-hidden":"true",className:"dashicon dashicon-gravityforms-polls"},React.createElement("g",null,React.createElement("g",null,React.createElement("path",{className:"st0",d:"m19.754 7.04c0 0.062857 0 0.094286 0.030769 0.12571v7.4171 0.22 0.031429c-0.030769 0.062857-0.030769 0.094286-0.030769 0.15714-0.030769 0.031428-0.030769 0.062857-0.030769 0.094286-0.030769 0.031429-0.030769 0.062857-0.030769 0.094286 0 0.062857-0.030769 0.094286-0.030769 0.15714v0.031428c-0.092308 0.44-0.30769 0.88-0.55385 1.2571-0.030769 0-0.030769 0.031429-0.030769 0.031429-0.030769 0.062857-0.061538 0.094286-0.092308 0.15714-0.030769 0.031429-0.030769 0.031429-0.061538 0.062857-0.030769 0.031428-0.061538 0.062857-0.092308 0.094286-0.030769 0.031428-0.061538 0.062857-0.092308 0.094286-0.030769 0.031429-0.030769 0.031429-0.061538 0.062857-0.030769 0.062857-0.092308 0.094286-0.12308 0.12571 0 0-0.030769 0.031429-0.030769 0.031429-0.061538 0.031429-0.092308 0.094286-0.15385 0.12571-0.092308 0.094286-0.21538 0.18857-0.33846 0.25143l-0.18462 0.12571-6.1538 3.5829c-0.46154 0.28286-1.0769 0.44-1.7231 0.44-0.64615 0-1.2615-0.15714-1.7231-0.44l-1.0462-0.62857-5.2308-3.08s-0.030769 0-0.061538-0.031428c-0.89231-0.59714-1.6-1.8229-1.6308-2.8914v-0.12571-7.4171-0.22-0.031429c0.030769-0.062857 0.030769-0.094286 0.030769-0.15714 0.030769-0.031429 0.030769-0.062857 0.030769-0.094286 0.030769-0.031429 0.030769-0.062857 0.030769-0.094286 0-0.062857 0.030769-0.094286 0.030769-0.15714v-0.031429c0.092308-0.44 0.30769-0.88 0.55385-1.2571 0.030769 0 0.030769-0.031429 0.030769-0.031429 0.030769-0.062857 0.061538-0.094286 0.092308-0.15714 0.030769-0.031429 0.030769-0.031429 0.061538-0.062857s0.061538-0.062857 0.092308-0.094286 0.061538-0.062857 0.092308-0.094286c0.030769 0 0.030769-0.031429 0.061538-0.031429 0.030769-0.062857 0.092308-0.094286 0.12308-0.12571 0 0 0.030769-0.031429 0.030769-0.031429 0.061538-0.031429 0.092308-0.094286 0.15385-0.12571 0.092308-0.094286 0.21538-0.18857 0.33846-0.25143l0.18462-0.12571 6.0923-3.5829c0.46154-0.28286 1.0769-0.44 1.7231-0.44 0.64615 0 1.2615 0.15714 1.7538 0.40857l1.0462 0.62857 5.2308 3.08s0.030769 0 0.061538 0.031429c0.89231 0.59714 1.6 1.8229 1.6308 2.8914z"}),React.createElement("polygon",{points:"9.6154 15.486 5 15.486 5 9.8286 9.6154 9.8286",fill:"#fff"}),React.createElement("polygon",{points:"15.154 14.375 15.154 14.375 15.154 15.486 12.806 15.486 12.806 15.486 10.538 15.486 10.538 7 15.154 7",fill:"#fff"})))),a=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 70",width:"100%",height:"100%",focusable:"false","aria-hidden":"true",className:"dashicon dashicon-gravityforms-polls"},React.createElement("g",null,React.createElement("g",null,React.createElement("path",{className:"st0",d:"m64.2 22.4c-0.1-3.4-2.4-7.3-5.3-9.2-0.1-0.1-0.2-0.1-0.2-0.1l-17-9.8-3.4-2c-1.6-0.8-3.6-1.3-5.7-1.3s-4.1 0.5-5.6 1.4l-19.8 11.4-0.6 0.4c-0.4 0.2-0.8 0.5-1.1 0.8-0.2 0.1-0.3 0.3-0.5 0.4l-0.1 0.1c-0.1 0.1-0.3 0.2-0.4 0.4-0.1 0-0.1 0.1-0.2 0.1l-0.3 0.3-0.3 0.3-0.2 0.2c-0.1 0.2-0.2 0.3-0.3 0.5 0 0 0 0.1-0.1 0.1-0.8 1.2-1.5 2.6-1.8 4v0.1c0 0.2-0.1 0.3-0.1 0.5 0 0.1 0 0.2-0.1 0.3 0 0.1 0 0.2-0.1 0.3 0 0.2 0 0.3-0.1 0.5v0.1 0.7 23.6 0.4c0.1 3.4 2.4 7.3 5.3 9.2 0.1 0.1 0.2 0.1 0.2 0.1l17 9.8 3.4 2c1.5 0.9 3.5 1.4 5.6 1.4s4.1-0.5 5.6-1.4l20-11.4 0.6-0.4c0.4-0.2 0.8-0.5 1.1-0.8 0.2-0.1 0.3-0.3 0.5-0.4l0.1-0.1c0.1-0.1 0.3-0.2 0.4-0.4l0.2-0.2 0.3-0.3 0.3-0.3 0.2-0.2c0.1-0.2 0.2-0.3 0.3-0.5 0 0 0-0.1 0.1-0.1 0.8-1.2 1.5-2.6 1.8-4v-0.1c0-0.2 0.1-0.3 0.1-0.5 0-0.1 0-0.2 0.1-0.3 0-0.1 0-0.2 0.1-0.3 0-0.2 0-0.3 0.1-0.5v-0.1-0.7-23.6c-0.1-0.1-0.1-0.2-0.1-0.4z"}),React.createElement("path",{className:"st0",d:"m60.4 44.9c0 2.4-1.8 5.5-3.9 6.7l-20.4 11.8c-1 0.6-2.4 0.9-3.9 0.9s-2.9-0.3-3.9-0.9l-20.4-11.7c-1.6-0.9-3-2.8-3.6-4.8-0.2-0.6-0.3-1.3-0.3-1.9v-23.6c0-2.4 1.8-5.5 3.9-6.7l20.4-11.8c1-0.6 2.4-0.9 3.9-0.9s2.9 0.3 3.9 0.9l20.4 11.8c1.6 0.9 3 2.8 3.6 4.8 0.2 0.6 0.3 1.3 0.3 1.9v23.5z"}),React.createElement("g",{transform:"translate(16 14)",fill:"#fff"},React.createElement("path",{d:"m11.852 29.28h-10.074c-0.59259 0-1.0667 0.48-1.0667 1.08v10.2c0 0.6 0.47407 1.08 1.0667 1.08h10.074c0.59259 0 1.0667-0.48 1.0667-1.08v-10.2c0-0.6-0.47407-1.08-1.0667-1.08zm-1.0667 10.32h-8.0593v-8.16h8.0593v8.16z"}),React.createElement("path",{d:"m28.8 29.28h-10.074c-0.59259 0-1.0667 0.48-1.0667 1.08v10.2c0 0.6 0.47407 1.08 1.0667 1.08h10.074c0.59259 0 1.0667-0.48 1.0667-1.08v-10.2c0-0.6-0.47407-1.08-1.0667-1.08zm-0.94815 10.32h-8.0593v-8.16h8.0593v8.16z"}),React.createElement("polygon",{points:"9.9556 34.08 8.8889 32.88 6.0444 35.76 4.7407 34.44 3.5556 35.52 6.0444 38.04"}),React.createElement("path",{d:"m21.096 37.2v0.12l0.82963 0.84h0.11852l1.6593-1.68h0.11852l1.6593 1.68h0.11852l0.82963-0.84v-0.12l-1.6593-1.68v-0.12l1.6593-1.68v-0.12l-0.82963-0.84h-0.11852l-1.6593 1.68h-0.11852l-1.6593-1.68h-0.11852l-0.82963 0.84v0.12l1.6593 1.68v0.12l-1.6593 1.68z"}),React.createElement("polygon",{points:"13.63 25.68 0 25.68 0 8.88 13.63 8.88"}),React.createElement("polygon",{points:"31.052 22.32 31.052 22.32 31.052 25.68 24.059 25.68 24.059 25.68 17.304 25.68 17.304 4.6185e-14 31.052 4.6185e-14"}))))),{__:r}=wp.i18n,{Dashicon:s,DatePicker:n,Dropdown:c,PanelBody:i,Placeholder:m,SelectControl:p,ServerSideRender:f,TextControl:g,ToggleControl:u}=wp.components,{dateI18n:d}=wp.date,{InspectorControls:v}=wp.hasOwnProperty("blockEditor")?wp.blockEditor:wp.editor,{Component:b,Fragment:y}=wp.element;class h extends b{constructor(){super(...arguments),this.setFormId=this.setFormId.bind(this);let e=h.getForm(this.props.attributes.formId);e&&e.hasConditionalLogic&&this.props.setAttributes({formPreview:!1})}setFormId(e){let t=h.getForm(e);this.props.setAttributes({formId:e}),t&&t.hasConditionalLogic&&this.props.setAttributes({formPreview:!1})}static getForm(e){return gform_block_polls.forms.find(t=>t.id==e)}static getFormOptions(){let e=[{label:r("Select a Form","gravityformspolls"),value:""}];for(let t=0;t<gform_block_polls.forms.length;t++)e.push({label:gform_block_polls.forms[t].title,value:gform_block_polls.forms[t].id});return e}render(){let{formId:e,title:t,description:l,mode:o,ajax:s,tabindex:b,style:R,cookie:k,cookieDate:E,displayCounts:_,displayResultsLink:w,displayResultsOnSubmission:C,displayPercentages:F,formPreview:P}=this.props.attributes;const{setAttributes:N,isSelected:x}=this.props,O=e=>this.setFormId(e.target.value),S=[{label:r("Do Not Block","gravityformspolls"),value:""},{label:r("1 vote per day","gravityformspolls"),value:"1 day"},{label:r("1 vote per week","gravityformspolls"),value:"1 week"},{label:r("1 vote per month","gravityformspolls"),value:"1 month"},{label:r("1 vote before specific date","gravityformspolls"),value:"date"}],D=[x&&gform_block_polls.forms&&gform_block_polls.forms.length>0&&React.createElement(v,{key:"inspector"},React.createElement(i,{title:r("Form Settings","gravityformspolls")},React.createElement(p,{label:r("Form","gravityformspolls"),value:e,options:h.getFormOptions(),onChange:this.setFormId}),e&&React.createElement(p,{label:r("Mode","gravityformspolls"),value:o,options:[{label:r("Poll","gravityformspolls"),value:"poll"},{label:r("Results","gravityformspolls"),value:"results"}],onChange:e=>N({mode:e})}),e&&"poll"===o&&React.createElement(u,{label:r("Form Title","gravityformspolls"),checked:t,onChange:()=>N({title:!t})}),e&&"poll"===o&&React.createElement(u,{label:r("Form Description","gravityformspolls"),checked:l,onChange:()=>N({description:!l})})),e&&React.createElement(i,{title:r("Appearance","gravityformspolls"),initialOpen:!0,className:"gform-block__panel"},React.createElement(p,{label:r("Style","gravityformspolls"),value:R,options:[{label:r("Green","gravityformspolls"),value:"green"},{label:r("Red","gravityformspolls"),value:"red"},{label:r("Orange","gravityformspolls"),value:"orange"},{label:r("Blue","gravityformspolls"),value:"blue"}],onChange:e=>N({style:e})}),React.createElement(u,{label:r("Display Results Percentages","gravityformspolls"),checked:F,onChange:()=>N({displayPercentages:!F})}),React.createElement(u,{label:r("Display Number of Votes For Each Selection","gravityformspolls"),checked:_,onChange:()=>N({displayCounts:!_})}),"poll"===o&&React.createElement(u,{label:r("Display Link To Results Below Form","gravityformspolls"),checked:w,onChange:()=>N({displayResultsLink:!w})}),"poll"===o&&React.createElement(u,{label:r("Display Results Upon Submission","gravityformspolls"),checked:C,onChange:()=>N({displayResultsOnSubmission:!C})})),e&&React.createElement(i,{title:r("Advanced","gravityformspolls"),initialOpen:!0,className:"gform-block__panel"},e&&!h.getForm(e).hasConditionalLogic&&React.createElement(u,{label:r("Preview","gravityformspolls"),checked:P,onChange:()=>N({formPreview:!P})}),"poll"===o&&React.createElement(u,{label:r("AJAX","gravityformspolls"),checked:s,onChange:()=>N({ajax:!s})}),"poll"===o&&React.createElement(g,{label:r("Tabindex","gravityformspolls"),value:b,onChange:e=>N({tabindex:e}),placeholder:"-1"}),"date"!==k&&React.createElement(p,{label:r("Repeat Voters","gravityformspolls"),value:k||"",options:S,onChange:e=>N({cookie:e}),className:"gform-block-poll__cookie"}),"date"===k&&React.createElement("div",{className:"components-base-control"},React.createElement("label",{className:"components-base-control__label"},r("Repeat Voters","gravityformspolls")),React.createElement(c,{key:"gform-block-poll__cookie-date",position:"bottom left",contentClassName:"gform-block-poll__cookie-date-popover",className:"gform-block-poll__cookie-date",renderToggle:({onToggle:e,isOpen:t})=>React.createElement(y,null,React.createElement(p,{value:k,options:S,onChange:e=>N({cookie:e,cookieDate:null})}),React.createElement("button",{type:"button",className:"button-link",onClick:e,"aria-expanded":t},E?d("F j, Y",E):r("Select a Date","gravityformspolls"))),renderContent:()=>[React.createElement(n,{key:"date-picker",currentDate:E,onChange:e=>N({cookieDate:e})})]})),React.createElement("div",{className:"components-base-control"},React.createElement("p",null,r("Form ID:","gravityformspolls"),React.createElement("br",null),e))))];return!e||!P||e&&h.getForm(e).hasConditionalLogic?[D,React.createElement(m,{key:"placeholder",className:"wp-block-embed gform-block__placeholder"},React.createElement("div",{className:"gform-block__placeholder-brand"},React.createElement("div",{className:"gform-icon"},a),React.createElement("p",null,React.createElement("strong",null,"Gravity Forms + Polls"))),gform_block_polls.forms&&gform_block_polls.forms.length>0&&React.createElement("form",null,React.createElement("select",{value:e,onChange:O},h.getFormOptions().map(e=>React.createElement("option",{key:e.value,value:e.value},e.label)))),(!gform_block_polls.forms||gform_block_polls.forms&&0===gform_block_polls.forms.length)&&React.createElement("form",null,React.createElement("p",null,r("You must have at least one Polls-enabled form to use the block.","gravityformspolls"))))]:[D,React.createElement(f,{key:"form_preview",block:"gravityforms/polls",attributes:this.props.attributes})]}}var R=h;const{__:k}=wp.i18n,{registerBlockType:E}=wp.blocks;E("gravityforms/polls",{title:"Poll",description:k("Display a poll or poll results on your page.","gravityformspolls"),category:"embed",keywords:["gravity forms","form","polls"],supports:{customClassName:!1,className:!1,html:!1},attributes:{formId:{type:"string"},mode:{type:"string",default:"poll"},title:{type:"boolean",default:!0},description:{type:"boolean",default:!0},ajax:{type:"boolean",default:!1},tabindex:{type:"string"},style:{type:"string",default:"green"},cookie:{type:"string",default:null},cookieDate:{type:"string"},displayCounts:{type:"boolean",default:!0},displayResultsLink:{type:"boolean",default:!0},displayResultsOnSubmission:{type:"boolean",default:!0},displayPercentages:{type:"boolean",default:!0},formPreview:{type:"boolean",default:!0}},icon:o,edit:R,save:()=>null})}]);