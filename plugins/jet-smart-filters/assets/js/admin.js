!function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=38)}({38:function(e,t,o){(function(e){!function(e){"use strict";var t=window.JetSmartFiltersAdminData||!1,o={init:function(){var t=o;t.currentFilterType=e("#_filter_type").val(),t.$querySettingsBox=e("#query-settings"),t.$notesBox=e("#filter-notes"),t.$dateFormatsBox=e("#filter-date-formats"),t.switchQueryVar(),t.toggleMetaBoxes(),e("#_filter_type").attr("required","required"),e("#jet-smart-filters-indexer-button").on("click",t.reindexFilters),e(document).ready((function(){t.updateExcludeInclude(),t.updateColorImageOptions()})).on("change.JetSmartFiltersAdmin","#_filter_type",t.switchFilterType).on("change.JetSmartFiltersAdmin","#_filter_type",t.switchQueryVar).on("change.JetSmartFiltersAdmin","#_data_source",t.switchQueryVar).on("change.JetSmartFiltersAdmin","#_date_source",t.switchQueryVar).on("change.JetSmartFiltersAdmin","#_s_by",t.switchQueryVar).on("change.JetSmartFiltersAdmin","#_data_source",t.updateExcludeInclude).on("change.JetSmartFiltersAdmin","#_source_post_type",t.updateExcludeInclude).on("change.JetSmartFiltersAdmin","#_source_taxonomy",t.updateExcludeInclude).on("change.JetSmartFiltersAdmin","#_data_source",t.updateColorImageOptions).on("cx-control-init",t.updateColorImageOptions).on("change.JetSmartFiltersAdmin","#_source_post_type",t.initColorImageOptions).on("change.JetSmartFiltersAdmin","#_source_taxonomy",t.initColorImageOptions).on("change.JetSmartFiltersAdmin","#_color_image_type",t.switchColorImageControls),e(window).on("cx-switcher-change",t.switchQueryVar)},reindexFilters:function(){var o=e(this),a=o.data("default-text"),r=o.data("loading-text");o.addClass("loading"),o.html(r),e.ajax({url:t.ajaxurl,type:"POST",dataType:"json",data:{action:"jet_smart_filters_admin_indexer"}}).done((function(e){o.removeClass("loading"),o.html(a)}))},updateColorImageOptions:function(e,t){o.switchColorImageControls(),o.initColorImageOptions(t)},updateExcludeInclude:function(){var o=e("#_source_taxonomy option:selected").val(),a=e("#_source_post_type option:selected").val(),r=e("#_data_source option:selected").val();0!==e("#_data_exclude_include").length&&e.ajax({url:t.ajaxurl,type:"POST",dataType:"json",data:{action:"jet_smart_filters_admin",taxonomy:o,post_type:a}}).done((function(o){var a=e("#_data_exclude_include");switch(r){case"taxonomies":a.html(o.terms);break;case"posts":a.html(o.posts)}a.val(t.dataExcludeInclude),a.trigger("change")}))},switchColorImageControls:function(){var t=e("#_filter_type option:selected").val(),o=e("#_color_image_type option:selected").val(),a=e("#_data_source option:selected").val(),r=e(".jet-smart-filters-color-image");"color-image"===t&&(r.attr("data-type",o),r.attr("data-source",a))},initColorImageOptions:function(a){var r=e("#_source_taxonomy option:selected").val(),n=e("#_filter_type option:selected").val(),i=e("#_source_post_type option:selected").val(),c=e("#_data_source option:selected").val(),l=e("#_show_empty_terms-true").prop("checked");"color-image"===n&&e.ajax({url:t.ajaxurl,type:"POST",dataType:"json",data:{action:"jet_smart_filters_admin",post_type:i,taxonomy:r,hide_empty:!l}}).done((function(t){var r=!1,n=e('.cx-ui-select[name*="selected_value"]');switch(a&&(n=e('.cx-ui-select[name*="selected_value"]',a.target),r=!0),c){case"taxonomies":n.each((function(){e(this).html(t.terms)}));break;case"posts":n.each((function(){e(this).html(t.posts)}))}r||o.setColorImageOptions()}))},setColorImageOptions:function(){var o=t.dataColorImage,a=0;for(var r in o){var n=o[r];e('.cx-ui-select[name="_source_color_image_input[item-'+a+'][selected_value]"]').val(n.selected_value),a++}},switchQueryVar:function(t){var a=e("#_filter_type option:selected").val(),r=e("#_data_source option:selected").val(),n=e("#_data_source"),i=e("#_date_source option:selected").val(),c=e("#_s_by option:selected").val(),l=e("#_is_hierarchical-true").prop("checked"),s=e("#_is_custom_checkbox-true").prop("checked"),d=e('div[data-control-name="_query_var"]'),u=!1,_=e('div[data-control-name="_query_compare"]'),m=!0;"color-image"===a?(n.find('option[value="custom_fields"]').addClass("cx-control-hidden"),"custom_fields"===r&&n.val("").change()):n.find('option[value="custom_fields"]').removeClass("cx-control-hidden"),l||"alphabet"===a?u=!0:"search"===a?u="default"===c:["date-range","date-period"].includes(a)?u="date_query"===i:-1!==["checkboxes","select","radio","color-image"].indexOf(a)&&-1!==["taxonomies"].indexOf(r)&&(u=!0),e.each(["select","radio"],(function(e,t){t!==a||s||(m=!1)})),u&&!d.hasClass("cx-control-hidden")&&d.addClass("cx-control-hidden").find('input[name="_query_var"]').removeAttr("required"),!u&&d.hasClass("cx-control-hidden")&&d.removeClass("cx-control-hidden").find('input[name="_query_var"]').attr("required","required"),u||m?_.addClass("cx-control-hidden"):_.removeClass("cx-control-hidden"),t&&"_show_empty_terms"===t.controlName&&o.initColorImageOptions()},switchFilterType:function(e){var t=e.target.value;o.currentFilterType=t,o.toggleMetaBoxes()},toggleMetaBoxes:function(){["date-range","date-period"].includes(o.currentFilterType)?o.$dateFormatsBox.show():o.$dateFormatsBox.hide(),"alphabet"===o.currentFilterType?(o.$querySettingsBox.hide(),o.$notesBox.hide()):(o.$querySettingsBox.show(),o.$notesBox.show())}};o.init()}(e)}).call(this,o(6))},6:function(e,t){e.exports=jQuery}});