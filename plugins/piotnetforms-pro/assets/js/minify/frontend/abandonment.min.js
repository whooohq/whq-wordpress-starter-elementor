!function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e){jQuery(document).ready((function(t){function e(){this.length=8,this.timestamp=+new Date;this.generate=function(){for(var t,e,a=this.timestamp.toString().split("").reverse(),o="",n=0;n<this.length;++n){o+=a[(t=0,e=a.length-1,Math.floor(Math.random()*(e-t+1))+t)]}return o}}t(document).on("keyup change","[data-piotnetforms-id]",(function(){var a=t(this).attr("data-piotnetforms-id");if(t('[data-piotnetforms-abandonment] [data-piotnetforms-submit-form-id="'+a+'"]').length>0){var o,n=t(this).val(),r=t(this).attr("name").replace("form_fields[","").replace("]","").replace("[]",""),i="piotnetforms-abandonment-"+a;if("checkbox"==t(this).attr("type"))if(t(this).attr("name").includes("[]"))n=[],t(this).closest("form").find('[name="form_fields['+r+'][]"]').each((function(){t(this).is(":checked")&&n.push(t(this).val())}));else t(this).is(":checked")||(n="");if(localStorage[i])(o=JSON.parse(localStorage.getItem(i)))[r]=n;else(o={userId:(new e).generate(),form_id:a})[r]=n;localStorage.setItem(i,JSON.stringify(o))}})),t("[data-piotnetforms-abandonment] [data-piotnetforms-submit-form-id]").each((function(){var e="piotnetforms-abandonment-"+t(this).attr("data-piotnetforms-submit-form-id"),a=t('[data-piotnetforms-id][name^="form_fields"]');if(localStorage[e]){var o=JSON.parse(localStorage.getItem(e));a.each((function(){var e=t(this).attr("type"),a=t(this).attr("name").replace("form_fields[","").replace("]","").replace("[]","");"radio"==e?void 0!==o[a]&&t(this).attr("value")==o[a]&&t(this).prop("checked",!0):"checkbox"==e?void 0!==o[a]&&(t(this).attr("name").includes("[]")?o[a].includes(t(this).attr("value"))&&t(this).prop("checked",!0):t(this).attr("value")==o[a]&&t(this).prop("checked",!0)):void 0!==o[a]&&t(this).val(o[a])}))}})),t(document).on("click","[data-piotnetforms-trigger-success]",(function(){var e="piotnetforms-abandonment-"+t(this).attr("data-piotnetforms-trigger-success");if(localStorage[e]){var a=JSON.parse(localStorage.getItem(e)),o=new FormData;o.append("action","piotnetforms_form_abandonment"),o.append("fields",JSON.stringify(a)),o.append("form_type","piotnetforms Form"),o.append("function","success"),navigator.sendBeacon(t("[data-piotnetforms-ajax-url]").data("piotnetforms-ajax-url"),o),localStorage.removeItem(e)}})),t(window).on("blur beforeunload",(function(){t("[data-piotnetforms-abandonment] [data-piotnetforms-submit-form-id]").each((function(){var e="piotnetforms-abandonment-"+t(this).attr("data-piotnetforms-submit-form-id");if(localStorage[e]){var a=JSON.parse(localStorage.getItem(e)),o=new FormData;o.append("action","piotnetforms_form_abandonment"),o.append("fields",JSON.stringify(a)),o.append("form_type","piotnetforms"),o.append("function","abandonment"),navigator.sendBeacon(t("[data-piotnetforms-ajax-url]").data("piotnetforms-ajax-url"),o)}}))}))}))}]);