!function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){jQuery(document).ready((function(e){function t(){var t=e(document).find("[data-piotnetforms-preview-submission]");t.length>0&&t.each((function(){var t=e(this).attr("data-piotnetforms-preview-submission"),i=e(document).find('[data-piotnetforms-id="'+t+'"]'),a=[],o=new FormData,r=e(this);r.closest(".piotnetforms-submit");i.each((function(){if(0==e(this).closest(".piotnetforms-conditional-logic-hidden").length&&null==e(this).data("piotnetforms-stripe")&&null==e(this).data("piotnetforms-html")){var i=e(this).closest(".piotnetforms-field-type-checkbox.piotnetforms-field-required");i.length>0&&i.find("input[type=checkbox]:checked").length,e(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html("");var o=e(this).attr("type"),r=e(this).attr("name"),n=e(this).closest("[data-piotnetforms-repeater-form-id]"),s="",l="",d="",f=-1,p=0;if(n.length>0){var m=e(this).parents("[data-piotnetforms-repeater-form-id]");l=n.data("piotnetforms-repeater-id"),m.each((function(){var i=e(this).data("piotnetforms-repeater-id"),a=e(document).find('[data-piotnetforms-repeater-form-id="'+t+'"][data-piotnetforms-repeater-id="'+i+'"]'),o=e(this).index()-a.index();s+=i+"|index"+o+"|"+r.replace("[]","").replace("form_fields[","").replace("]","")+","})),d=n.data("piotnetforms-repeater-label");var c=e(document).find('[data-piotnetforms-repeater-id="'+n.data("piotnetforms-repeater-id")+'"]');p=n.siblings('[data-piotnetforms-repeater-id="'+n.data("piotnetforms-repeater-id")+'"]').length+1,f=n.index()-c.index()}if(-1!==r.indexOf("[]")){var u=[];if("checkbox"==o)e(this).closest(".piotnetforms-fields-wrapper").find('[name="'+r+'"]:checked').each((function(){u.push(e(this).val())}));else if(null==(u=e(this).val()))u=[];g="";for(var h="",b=0;b<u.length;b++){if(null!=e(this).data("piotnetforms-send-data-by-label")){var v=u[b];if("checkbox"==o)(y=e(this).closest(".piotnetforms-fields-wrapper").find('[value="'+v+'"]')).length>0&&(h+=y.data("piotnetforms-send-data-by-label")+",");else(y=e(this).find('[value="'+v+'"]')).length>0&&(h+=y.html()+",")}g+=u[b]+","}g=g.replace(/,(\s+)?$/,"")}else if("radio"==o||"checkbox"==o){if(null!=e(this).data("piotnetforms-send-data-by-label"))h=e(this).closest(".piotnetforms-fields-wrapper").find('[name="'+r+'"]:checked').data("piotnetforms-send-data-by-label");var g=e(this).closest(".piotnetforms-fields-wrapper").find('[name="'+r+'"]:checked').val()}else if(null!=e(this).data("piotnetforms-calculated-fields"))g=e(this).siblings(".piotnetforms-calculated-fields-form").text();else{if(null!=e(this).data("piotnetforms-send-data-by-label")){var y;v=e(this).val().trim();(y=e(this).find('[value="'+v+'"]')).length>0&&(h=y.html())}g=e(this).val().trim()}if(null!=g){var _={};_.label=e(this).closest(".piotnetforms-field-group").find(".piotnetforms-field-label").html(),_.name=r.replace("[]","").replace("form_fields[","").replace("]",""),_.value=g,null!=u&&(_.value_multiple=u),_.type=e(this).attr("type"),void 0!==e(this).attr("data-piotnetforms-address-autocomplete")&&(_.lat=e(this).attr("data-piotnetforms-google-maps-lat"),_.lng=e(this).attr("data-piotnetforms-google-maps-lng"),_.zoom=e(this).attr("data-piotnetforms-google-maps-zoom")),""!=h&&(_.value_label=h),e(this).closest(".piotnetforms-field-type-calculated_fields").length>0&&(_.calculation_results=e(this).val().trim()),e(this).closest(".piotnetforms-widget").hasClass("piotnetforms-conditional-logic-hidden")||(_.repeater_id=s,_.repeater_id_one=l,_.repeater_label=d,_.repeater_index=f,_.repeater_length=p,null!=e(this).data("piotnetforms-remove-this-field-from-repeater")&&(_.repeater_remove_this_field="1"),a.push(_))}}})),o.append("action","piotnetforms_ajax_form_builder_preview_submission"),o.append("fields",JSON.stringify(a)),null!=r.attr("data-piotnetforms-preview-submission-remove-empty-fields")&&o.append("remove_empty_fields",""),null!=r.attr("data-piotnetforms-preview-submission-custom-list-fields")&&o.append("custom_list_fields",r.attr("data-piotnetforms-preview-submission-custom-list-fields")),e.ajax({url:e("[data-piotnetforms-ajax-url]").data("piotnetforms-ajax-url"),type:"POST",data:o,processData:!1,contentType:!1,success:function(e){r.html(e)}})}))}setTimeout(t(),1e3),e(document).on("keyup change","[data-piotnetforms-id]",e.debounce(250,(function(){t()})))}))}]);