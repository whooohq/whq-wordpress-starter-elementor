function gformSignatureResize(i){function e(i){return i.gfieldWidth>i.width?i.width:i.gfieldWidth}function a(i){return{width:e(i),height:(t=e(i),Math.round(t*i.$container.data("ratio")))};var t}!function(i){void 0!==(n=i).closest(".gfield").find(".gfield_label").attr("for")&&0<n.parent().find('input[name$="_data"]:eq( 0 )').length&&(n.css("width","").find("canvas").css("width","").attr("width",""),n.next().css("width",""));var t,e=(d=(t=n).closest(".gfield"),{$container:t,fieldID:d.find(".gfield_label").attr("for"),gfieldWidth:d.innerWidth(),width:t.data("original-width"),dataInput:t.parent().find('input[name$="_data"]:eq( 0 )'),fieldExists:function(){return void 0!==this.fieldID},dataInputExists:function(){return 0<this.dataInput.length}}),n=(i=a(e)).width,d=180<i.height?i.height:180;e.fieldExists()&&e.dataInputExists()&&((t=Base64.decode(e.dataInput.val()))&&(SignatureEnabled(e.fieldID,!1),jQuery("#"+e.fieldID+"_lockedReset").show(),e.width>i.width&&(n=(i=t.split(";")[0]).split(",")[3],d=i.split(",")[4])),ResizeSignature(e.fieldID,n,d),ClearSignature(e.fieldID),t&&LoadSignature(e.fieldID,t,1))}(i)}jQuery(window).on("gform_post_render",function(i,t){jQuery("#gform_"+t).find(".gfield_signature_container").each(function(){var i,t,e,n,d,a=jQuery(this);a.data("original-width")||(i=parseFloat(a.css("width")),t=parseFloat(a.css("height")),e=a.closest(".gfield").find(".gfield_label").attr("for"),(n=jQuery("#"+e+"_resetbutton")).parent().append('<button type="button" id="'+e+'_lockedReset" class="gform_signature_locked_reset" style="display:none;height:24px;cursor:pointer;padding: 0 0 0 1.8em;opacity:0.75;font-size:0.813em;border:0;background: transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBjbGFzcz0idW5kZWZpbmVkIj48cGF0aCBkPSJNNDAwIDIyNGgtMjR2LTcyQzM3NiA2OC4yIDMwNy44IDAgMjI0IDBTNzIgNjguMiA3MiAxNTJ2NzJINDhjLTI2LjUgMC00OCAyMS41LTQ4IDQ4djE5MmMwIDI2LjUgMjEuNSA0OCA0OCA0OGgzNTJjMjYuNSAwIDQ4LTIxLjUgNDgtNDhWMjcyYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0tMTA0IDBIMTUydi03MmMwLTM5LjcgMzIuMy03MiA3Mi03MnM3MiAzMi4zIDcyIDcydjcyeiIgY2xhc3M9InVuZGVmaW5lZCIvPjwvc3ZnPg==) no-repeat left center;background-size:16px;">'+gform_signature_frontend_strings.lockedReset+"</button>"),d=jQuery("#"+e+"_lockedReset"),n.click(function(){SignatureEnabled(e,!0),ClearSignature(e),gformSignatureResize(a),d.hide()}),d.click(function(){jQuery(this).hide(),n.click()}),jQuery("#"+e+"_status").hide(),a.data("ratio",t/i),a.data("original-width",i),setTimeout(function(){gformSignatureResize(a)},0))})}),jQuery(document).ready(function(a){var i=window.innerWidth;a(window).on("resize",function(){window.innerWidth!==i&&(i=window.innerWidth,jQuery(".gfield_signature_container").each(function(){var i=jQuery(this);setTimeout(function(){gformSignatureResize(i)},200)}))}),gform.addAction("gform_post_conditional_logic_field_action",function(i,t,e,n,d){e=a(e).find(".gfield_signature_container");!d&&"show"===t&&e.length&&gformSignatureResize(e)})});