function gformSignatureResize(i){function e(i){return i.gfieldWidth>i.width?i.width:i.gfieldWidth}function t(i){return{width:e(i),height:(t=e(i),Math.round(t*i.$container.data("ratio")))};var t}var n,r,a,d,o,u;void 0!==(i=i).closest(".gfield").find(".gfield_label").attr("for")&&0<i.parent().find('input[name$="_data"]:eq( 0 )').length&&(i.css("width","").find("canvas").css("width","").attr("width",""),i.next().css("width","")),a=(d=i).closest(".gfield"),d=t(a={$container:d,fieldID:a.find(".gfield_label").attr("for"),gfieldWidth:a.innerWidth(),width:d.data("original-width"),dataInput:d.parent().find('input[name$="_data"]:eq( 0 )'),fieldExists:function(){return void 0!==this.fieldID},dataInputExists:function(){return 0<this.dataInput.length}}),o=d.width,u=180<d.height?d.height:180,a.fieldExists()&&a.dataInputExists()&&((n=Base64.decode(a.dataInput.val()))&&(SignatureEnabled(a.fieldID,!1),jQuery("#"+a.fieldID+"_lockedReset").show(),a.width>d.width)&&(o=(r=n.split(";")[0]).split(",")[3],u=r.split(",")[4]),ResizeSignature(a.fieldID,o,u),i.closest(".gfield_signature_ui_container").find("div:last-child").css("width",d.width),ClearSignature(a.fieldID),n)&&LoadSignature(a.fieldID,n,1)}function gformSignatureInit(i){i.find(".gfield_signature_container").each(function(){var i,t,e,n,r,a=jQuery(this);a.data("original-width")||(i=parseFloat(a.css("width")),t=parseFloat(a.css("height")),e=a.attr("id").replace("_Container",""),(n=jQuery("#"+e+"_resetbutton")).parent().append('<button type="button" id="'+e+'_lockedReset" class="gform_signature_locked_reset gform-theme-no-framework" style="color: var(--gform-theme-control-description-color);display:none;height:24px;cursor:pointer;padding: 0 0 0 1.8em;opacity:0.75;font-size:0.813em;border:0;background: transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBjbGFzcz0idW5kZWZpbmVkIj48cGF0aCBkPSJNNDAwIDIyNGgtMjR2LTcyQzM3NiA2OC4yIDMwNy44IDAgMjI0IDBTNzIgNjguMiA3MiAxNTJ2NzJINDhjLTI2LjUgMC00OCAyMS41LTQ4IDQ4djE5MmMwIDI2LjUgMjEuNSA0OCA0OCA0OGgzNTJjMjYuNSAwIDQ4LTIxLjUgNDgtNDhWMjcyYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0tMTA0IDBIMTUydi03MmMwLTM5LjcgMzIuMy03MiA3Mi03MnM3MiAzMi4zIDcyIDcydjcyeiIgY2xhc3M9InVuZGVmaW5lZCIvPjwvc3ZnPg==) no-repeat left center;background-size:16px;float:left;direction:ltr;">'+gform_signature_frontend_strings.lockedReset+"</button>"),r=jQuery("#"+e+"_lockedReset"),n.click(function(){SignatureEnabled(e,!0),ClearSignature(e),gformSignatureResize(a),r.hide()}),r.click(function(){jQuery(this).hide(),n.click()}),jQuery("#"+e+"_signAgain, #"+e+"_lockedSignAgain").each(function(){jQuery(this).click(function(i){i.preventDefault(),jQuery("#"+e+"_signature_image").hide(),jQuery("#"+e+"_Container").show()})}),jQuery("#"+e+"_status").hide(),a.data("ratio",t/i),a.data("original-width",i),setTimeout(function(){gformSignatureResize(a)},0))})}jQuery(window).on("gform_post_render",function(i,t){gformSignatureInit(jQuery("#gform_"+t))}),jQuery(document).ready(function(a){var i=window.innerWidth;a(window).on("resize",function(){window.innerWidth!==i&&(i=window.innerWidth,jQuery(".gfield_signature_container").each(function(){var i=jQuery(this);setTimeout(function(){gformSignatureResize(i)},200)}))}),gform.addAction("gform_post_conditional_logic_field_action",function(i,t,e,n,r){e=a(e).find(".gfield_signature_container");!r&&"show"===t&&e.length&&gformSignatureResize(e)})});