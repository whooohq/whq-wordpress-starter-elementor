!function(c){c(document).ready(function(){function o(t){var a=[],e=t.prev();c("tr:not([data-repeater])",t).each(function(){c("input",this).each(function(){var t=c(this).attr("data-name").split(/[[\]]{1,2}/);void 0===a[t[3]]&&(a[t[3]]={}),a[t[3]][t[4]]=c(this).val()})}),e.val(JSON.stringify(a)).trigger("change")}c(document).on("click",".gf_login_widget_editor .tabs a",function(t){t.preventDefault();var a=c(this).parent().parent(),e=c(this).parent(),t=c(this).attr("data-tab");e.find("a").removeClass("active"),c(this).addClass("active"),a.find('.tab-content:not( [data-tab="'+t+'"] )').hide(),a.find('.tab-content[data-tab="'+t+'"]').show(),a.find('input[data-type="active_view"]').val(t)}),c(document).on("click",".gf_login_widget_add_link",function(t){t.preventDefault();var a=c(this).prev(),e=c("tr[data-repeater]",a);c("tr.new",a).removeClass("new");var n=0;c("tr:not([data-repeater])",a).each(function(){var t=c("td:first-child input",this).attr("data-name").match(/\[(\d*)\]/gim)[1],t=parseInt(t.replace("[","").replace("]",""));n<t&&(n=t)}),n++;var i=c('<tr class="new">'+e.html()+"</tr>"),r=c("input.link-text",i),t=c("input.link-url",i);r.attr("data-name",r.attr("data-name")+"["+n+"][text]"),t.attr("data-name",t.attr("data-name")+"["+n+"][url]"),i.insertBefore(e),o(a)}),c(document).on("click",'.gf_login_widget_links a[data-action="delete-link"]',function(t){t.preventDefault();var a=c(this).closest("tr"),t=c(this).closest("table");a.remove(),0===c("tr:not([data-repeater])",t).length&&t.next().click(),o(t)}),c(document).on("change",".gf_login_widget_links input",function(){o(c(this).closest("table"))}),c(document).on("change",".gf_login_widget_registrationpage",function(){"custom"===c(this).val()?c(this).next("table").show():c(this).next("table").hide()})})}(jQuery);